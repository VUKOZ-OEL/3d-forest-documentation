<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>3D Forest: User Manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">3D Forest
   </div>
   <div id="projectbrief">Software for analysis of Lidar data from forest environment.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('3d-forest-user-manual.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">User Manual</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>These documents describe how to use 3D Forest application.</p>
<p>3D Forest Screenshot: </p><div class="image">
<img src="3d-forest.png" alt=""/>
<div class="caption">
3D Forest application</div></div>
<h1><a class="anchor" id="tools"></a>
Tools</h1>
<h2><a class="anchor" id="tools-classification"></a>
Classification Tool</h2>
<h3><a class="anchor" id="tools-classification-overview"></a>
Classification Overview</h3>
<p><a class="el" href="classClassification.html" title="Classification.">Classification</a> tool calculates classification of ground points. It uses new algorithm which is specialized to classify LiDAR point clouds of complex natural forest environments. The algorithm is based on global minimum to deal with missing data in non scanned or obstructed parts.</p>
<div class="image">
<img src="3d-forest-classification.png" alt=""/>
<div class="caption">
3D Forest Classification: Example dataset with classified ground.</div></div>
<h3><a class="anchor" id="tools-classification-gui"></a>
Classification GUI</h3>
<div class="image">
<img src="3d-forest-classification-gui.png" alt=""/>
<div class="caption">
3D Forest Classification GUI</div></div>
<h3><a class="anchor" id="tools-classification-algorithm"></a>
Ground Classification Algorithm</h3>
<ol>
<li>
Voxelize the dataset. </li>
<li>
Find voxel with minimal z coordinate and append this voxel to working set W. </li>
<li>
While W is not processed, append other voxels in search radius from each new voxel in W, if selection cone given by maximal ground angle and their position does not contain any voxels, eg. there is nothing below. Voxel is marked as processed when it searched for its neighbors. </li>
<li>
All voxels in W are classified as ground points. </li>
<li>
Voxel values are applied back to the dataset. </li>
</ol>
<div class="image">
<img src="3d-forest-classification-algorithm.png" alt=""/>
<div class="caption">
3D Forest Ground Classification Algorithm</div></div>
<h2><a class="anchor" id="tools-descriptor"></a>
Descriptor Tool</h2>
<h3><a class="anchor" id="tools-descriptor-overview"></a>
Descriptor Tool Overview</h3>
<p>Descriptor tool calculates point descriptor values. Descriptors are calculated from <em>'Neighborhood Radius'</em> of each point. The point cloud can be voxelized to speed up the calculation. There are several methods to choose from. Basic <em>'Density Method'</em> calculates global density of each voxel. Calculated descriptors are normalized to range from zero (global minimum) to one (global maximum).</p>
<p>Descriptor is additional point attribute added by 3D Forest.</p>
<div class="image">
<img src="3d-forest-descriptor-density.png" alt=""/>
<div class="caption">
3D Forest Descriptor Tool: Example dataset (Before) with calculated density descriptors (After).</div></div>
<h3><a class="anchor" id="tools-descriptor-gui"></a>
Descriptor Tool GUI</h3>
<div class="image">
<img src="3d-forest-descriptor-gui.png" alt=""/>
<div class="caption">
3D Forest Descriptor Tool GUI</div></div>
<h3><a class="anchor" id="tools-descriptor-algorithm-density"></a>
Density Descriptor Algorithm</h3>
<p>Count the number of points in <em>'Neighborhood Radius'</em>.</p>
<h3><a class="anchor" id="tools-descriptor-algorithm-pca-intensity"></a>
PCA Intensity Descriptor Algorithm</h3>
<p>Calculate PCA of points in <em>'Neighborhood Radius'</em>. Descriptor value is ratio between length of longest projected eigen vector to sum of lengths of all projected eigen vectors.</p>
<h2><a class="anchor" id="tools-elevation"></a>
Elevation Tool</h2>
<h3><a class="anchor" id="tools-elevation-overview"></a>
Elevation Overview</h3>
<p>Elevation tool calculates elevation of points above ground. It uses new algorithm which is specialized to classify LiDAR point clouds of complex natural forest environments. The algorithm uses 2D projection to deal with missing ground data in non scanned or obstructed parts. Elevation is additional point attribute added by 3D Forest.</p>
<p>Elevation tool requires pre-computed ground classification.</p>
<div class="image">
<img src="3d-forest-elevation.png" alt=""/>
<div class="caption">
3D Forest Elevation Tool: Example dataset with calculated elevation.</div></div>
<h3><a class="anchor" id="tools-elevation-gui"></a>
Elevation Tool GUI</h3>
<div class="image">
<img src="3d-forest-elevation-gui.png" alt=""/>
<div class="caption">
3D Forest Elevation Tool GUI</div></div>
<h3><a class="anchor" id="tools-elevation-algorithm"></a>
3D Point Elevation Algorithm Above Ground</h3>
<ol>
<li>
Voxelize all ground points from the dataset. </li>
<li>
Create 2D quad-tree spatial index from 3D voxels. Two dimensional quad-tree is created by ignoring z coordinates. </li>
<li>
Iterate all non-ground points, use their (x, y) coordinates to find nearest neighbor in the ground quad-tree and set elevation as difference between z coordinates of nearest ground voxel and iterated point. </li>
</ol>
<h2><a class="anchor" id="tools-segmentation"></a>
Automatic Segmentation Tool</h2>
<h3><a class="anchor" id="tools-segmentation-overview"></a>
Segmentation Overview</h3>
<p>Segmentation tool identifies trees in point cloud. The basic idea of used segmentation algorithm is the same as in the original 3D Forest paper. The algorithm is based on point descriptors and connections between nearest neighbors. Both algorithms are specialized to classify LiDAR point clouds of complex natural forest environments.</p>
<p>Segmentation tool requires either pre-computed ground classification and point elevation values or to use enabled option <em>'Use z-coordinate instead of ground elevation'</em>. Pre-computed descriptor values are always required.</p>
<div class="image">
<img src="3d-forest-segmentation.png" alt=""/>
<div class="caption">
3D Forest Segmentation: Example dataset with calculated segmentation</div></div>
<h3><a class="anchor" id="tools-segmentation-steps"></a>
Segmentation Steps</h3>
<p>Segmentation steps are described on the image below.</p>
<div class="image">
<img src="3d-forest-segmentation-steps.png" alt=""/>
<div class="caption">
3D Forest Segmentation Steps: a) Original unsegmented dataset. b) Shows pre-calculated descriptors from black (low) to white (high). Descriptors with high value should describe trunks. c) Shows the effect of option 'Find only trunks'. 3 trunks are identified. d) Shows the final result of segmented dataset. Unsegmented (disconnected and ground) points are hidden. These points are assigned to main segment.</div></div>
<h3><a class="anchor" id="tools-segmentation-gui"></a>
Segmentation GUI</h3>
<div class="image">
<img src="3d-forest-segmentation-gui.png" alt=""/>
<div class="caption">
3D Forest Segmentation GUI</div></div>
<h3><a class="anchor" id="tools-segmentation-algorithm"></a>
Tree Segmentation Algorithm</h3>
<ol>
<li>
Voxelize the dataset. </li>
<li>
Detect individual trunks by using search radius to connect voxels which have descriptor values above user provided threshold. Assign a unique segment value to each detected trunk. </li>
<li>
Repeat the following for all remaining voxels: <ol>
<li>
Start at the next unprocessed voxel. The position of this voxel is random because the voxels are ordered by multi-layer octal-tree. This voxel creates new voxel group. </li>
<li>
Find minimum spanning tree from this voxel until a voxel with existing segment value is reached. The spanning tree is calculated by iteratively appending the next nearest neighbor to the current voxel group. </li>
<li>
Set segment value of all voxels in this voxel group to segment value from terminating voxel. This connects spanning trees to trunks. Connected voxels are marked as processed. </li>
</ol>
</li>
<li>
<a class="el" href="classSegment.html" title="Segment.">Segment</a> values from voxels are applied back to the dataset. </li>
</ol>
<div class="image">
<img src="3d-forest-segmentation-algorithm.png" alt=""/>
<div class="caption">
3D Forest Tree Segmentation Algorithm: Top: The first step is segmentation of trunks. 'Descriptor threshold' is set to 0.5 (50 %). Bottom: The second step is segmentation of leaves and small branches which are connected to some trunk.</div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Copyright 2020-present VUKOZ Documentation contributions included herein are the copyrights of their respective owners.
      The documentation provided herein is licensed under the terms of the
      <a href="https://www.gnu.org/licenses/fdl.html">GNU Free Documentation License version 1.3</a> as published by the Free Software Foundation.
    </li>
  </ul>
</div>
</body>
</html>
